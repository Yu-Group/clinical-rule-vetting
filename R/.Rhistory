df_old <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_old.csv")
ncol(df_old)
apply(df_old %>% select(PtAmbulatoryPriorArrival, PtCompPain, LimitedRangeMotion), 2, unique)
df_old <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_old.csv")
ncol(df_old)
apply(df_old %>% select(PtAmbulatoryPriorArrival, PtCompPain, LimitedRangeMotion), 2, unique)
apply(df_old %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
df_andy <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_andy.csv")
impute_na <- function(column) {
ifelse(is.na(column), 0, column)
}
# df_andy %>% select(where(function(x) any(is.na(x)))) #select NA columns
df_andy
unique(df_andy$CervicalSpineImmobilization)
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, unique)
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
df_old <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_old.csv")
ncol(df_old)
apply(df_old %>% select(PtAmbulatoryPriorArrival, PtCompPain, LimitedRangeMotion), 2, unique)
num_na_old<-apply(df_old %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
df_andy <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_andy.csv")
impute_na <- function(column) {
ifelse(is.na(column), 0, column)
}
# df_andy %>% select(where(function(x) any(is.na(x)))) #select NA columns
df_andy
unique(df_andy$CervicalSpineImmobilization)
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, unique)
num_na_new <- apply(df_andy %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
num_na_new
num_na_old
num_na_new==num_na_old
num_na_old
num_na_newnum_na_old
num_na_new;num_na_old
num_na_new==num_na_old
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, unique)
df_old <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_old.csv")
ncol(df_old)
apply(df_old %>% select(PtAmbulatoryPriorArrival, PtCompPain, LimitedRangeMotion), 2, unique)
num_na_old<-apply(df_old %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
df_andy <- read.csv("../rulevetting/projects/csi_pecarn/notebooks/df_andy.csv")
impute_na <- function(column) {
ifelse(is.na(column), 0, column)
}
# df_andy %>% select(where(function(x) any(is.na(x)))) #select NA columns
df_andy
unique(df_andy$CervicalSpineImmobilization)
apply(df_andy %>% select(-AgeInYears, -CaseID), 2, unique)
num_na_new <- apply(df_andy %>% select(-AgeInYears, -CaseID), 2, function(x) sum(is.na(x)))
unique(df_andy$ControlType)
train <- read.csv("../data/csi_pecarn/notebooks/train.csv")
train <- read.csv("../data/csi_pecarn/processed/train.csv")
train
knitr::opts_chunk$set(echo = TRUE, eval = FALSE)
library(tidyverse)
# read csv files
setwd("..")
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
getwd()
# read csv files
setwd("..")
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("..")
getwd()
# read csv files
setwd("..")
setwd("..")
getwd()
# read csv files
setwd("..")
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("....")
# read csv files
setwd("../..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
getwd()
# read csv files
setwd("../..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("projects.data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("../..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("projects/data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
setwd("../..")
getwd()
# read csv files
setwd("..")
getwd()
# read csv files
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("projects/data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("projects/data/csi_pecarn/csv/", names, ".csv")
# read csv files
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
filenames
# read csv files
setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("/data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
getwd()
setwd("..")
# read csv files
# setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("/data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
# setwd("..")
getwd()
stwd(../data)
setwd(../data)
setwd("../data")
# read csv files
# setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
getwd()
# read csv files
# setwd("..")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
# setwd("..")
getwd()
# read csv files
setwd("/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
getwd()
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
getwd()
# read csv files
setwd("/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
filenames <- paste0("data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
# read csv files
setwd("/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
str <-
filenames <- paste0(str,"data/csi_pecarn/csv/", names, ".csv")
# read csv files
setwd("/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
str <- "/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting"
filenames <- paste0(str,"data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
filenames
# read csv files
names <- c("analysisvariables", "clinicalpresentationfield",
"clinicalpresentationoutside", "clinicalpresentationsite",
"demographics", "injuryclassification", "injurymechanism",
"kappa", "medicalhistory", "radiologyoutside", "radiologyreview",
"radiologyonsite")
str <- "/Users/andyshen/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andy’s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting"
filenames <- paste0(str,"/data/csi_pecarn/csv/", names, ".csv")
for (i in seq_along(filenames)) {
radRev <- read.csv(filenames[1])
cpFld <- read.csv(filenames[2])
cpOut <- read.csv(filenames[3])
cpSite <- read.csv(filenames[4])
dem <- read.csv(filenames[5])
injClass <- read.csv(filenames[6])
injMech <- read.csv(filenames[7])
kappa <- read.csv(filenames[8])
medHist <- read.csv(filenames[9])
anVar <- read.csv(filenames[10])
anVar <- read.csv(filenames[11])
anVar <- read.csv(filenames[12])
}
filenames[1]
read.csv(filenames[1])
cpSite <- read.csv(filenames[4])
cpSite <- read.csv(filenames[4])
cpSite
dx <- cpSite$DxCspineInjury
str(dx)
unique(dx)
any(is.na(dx))
