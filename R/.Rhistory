radRev <- read.csv("./data/csi_pecarn/csv/radiologyreview.csv")
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
knitr::opts_chunk$set(echo = TRUE)
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev
library(tidyverse)
radRev %>% select(starts_with("review"))
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult)
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult)
rowSums(radRev_inj)
radRev_inj
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult, -reviewResultIV, -reviewResultCA)
rowSums(radRev_inj)
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult, -reviewResultIV, -reviewResultCA)
injury <- ifelse(rowSums(radRev_inj) >=0, 1, 0)
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult, -reviewResultIV, -reviewResultCA)
injury <- ifelse(rowSums(radRev_inj) >=0, 1, 0)
injury
rowSums(radRev_inj)
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult, -reviewResultIV, -reviewResultCA)
injury <- ifelse(rowSums(radRev_inj) >= 1, 1, 0)
injury
rowSums(radRev_inj)
temp = list.files(pattern="*.csv")
myfiles = lapply(temp, read.delim)
myfiles
list.files(pattern = "*.csv") %>%
map_df(~read_csv(.))
list.files(pattern = "*.csv")
setwd("../data/csi_pecarn/csv")
list.files(pattern = "*.csv") %>%
map_df(~read_csv(.))
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Desktop - Andyâ€™s MacBook Pro/UC Berkeley/STAT 215A/rule-vetting")
radRev <- read.csv("../data/csi_pecarn/csv/radiologyreview.csv")
radRev <- read.csv("/data/csi_pecarn/csv/radiologyreview.csv")
radRev <- read.csv("data/csi_pecarn/csv/radiologyreview.csv")
radRev_inj <- radRev %>%
select(starts_with("review")) %>%
select(-reviewResultNumOfViews, -reviewResult, -reviewResultIV, -reviewResultCA)
injury <- ifelse(rowSums(radRev_inj) >= 1, 1, 0)
test_df <- data.frame(
c(1, 8, 7),
c(NA, 9, NA),
c(9,4, NA),
c(0, NA, NA)
)
test_df
apply(test_df, 2, functoin(x) mean(is.na(x)))
apply(test_df, 2, function(x) mean(is.na(x)))
res <- apply(test_df, 2, function(x) mean(is.na(x)))
test_df[, res < 0.4]
# Function to remove columns with excess NA values
removeExcessMissing <- function(df, thresh) {
# Function to remove columns with above a certain proportiono of NA values.
# Args:
#  df: data frame of interest
#  thresh: NA threshold
# Returns: dataset with columns that have fewer than thresh * 100 % NA values.
na_count <- apply(test_df, 2, function(x) mean(is.na(x)))
df[, na_count < thres]
}
test_df <- data.frame(
c(1, 8, 7),
c(NA, 9, NA),
c(9,4, NA),
c(0, NA, NA)
)
removeExcessMissing(test_df, 0.4)
# Function to remove columns with excess NA values
removeExcessMissing <- function(df, thresh) {
# Function to remove columns with above a certain proportiono of NA values.
# Args:
#  df: data frame of interest
#  thresh: NA threshold
# Returns: dataset with columns that have fewer than thresh * 100 % NA values.
na_count <- apply(test_df, 2, function(x) mean(is.na(x)))
df[, na_count < thresh]
}
test_df <- data.frame(
c(1, 8, 7),
c(NA, 9, NA),
c(9,4, NA),
c(0, NA, NA)
)
removeExcessMissing(test_df, 0.4)
